---
// import MoleculeCardThemeControllerBase from "./02-molecules/cards/theme-controller/Base.astro"

interface Props {
  pathname?: string
}

const url = Astro.props.pathname ?? Astro.url.pathname

const mySiteURLs = import.meta.env.DEV
  ? {
      home: '/',
      blogs: '/blogs',
      portfolios: '/portfolios',
      experiences: '/experiences',
      uses: '/uses'
    }
  : {
      home: '/',
      blogs: '/blogs/',
      portfolios: '/portfolios/',
      experiences: '/experiences',
      uses: '/uses'
    }

const checkCurrentURL = (pageName: keyof typeof mySiteURLs) => {
  if (['home', 'blogs'].includes(pageName)) {
    return url === mySiteURLs[pageName]
  }
  return url === mySiteURLs[pageName] || url.includes(mySiteURLs[pageName])
}
---

<div class='navbar bg-base-100 fixed top-0 z-10'>
  <div class='navbar-start'>
    <div class='dropdown'>
      <label tabindex='0' class='btn btn-ghost btn-circle lg:hidden'>
        <svg
          xmlns='http://www.w3.org/2000/svg'
          class='h-5 w-5 text-primary'
          fill='none'
          viewBox='0 0 24 24'
          stroke='currentColor'
          ><path
            stroke-linecap='round'
            stroke-linejoin='round'
            stroke-width='2'
            d='M4 6h16M4 12h16M4 18h7'></path></svg
        >
      </label>
      <ul
        class='menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow bg-base-100 rounded-box min-w-52'
      >
        {
          checkCurrentURL('blogs') ? (
            <li class='min-w-20 h-0' />
          ) : (
            <li>
              <a
                class='hover:text-primary min-h-12 flex'
                href='/blogs'
                transition:name='my-blogs-mobile'
              >
                Blogs
              </a>
            </li>
          )
        }
        {
          checkCurrentURL('experiences') ? (
            <li class='min-w-20 h-0' />
          ) : (
            <li>
              <a
                class='hover:text-primary min-h-12 flex'
                transition:name='my-experiences-mobile'
                href='/experiences'
              >
                Experiences
              </a>
            </li>
          )
        }
        {
          checkCurrentURL('portfolios') ? (
            <li class='min-w-20 h-0' />
          ) : (
            <li>
              <a
                class='hover:text-primary min-h-12 flex'
                transition:name='my-portfolios-mobile'
                href='/portfolios'
              >
                Portfolios
              </a>
            </li>
          )
        }
        {
          checkCurrentURL('uses') ? (
            <li class='min-w-20 h-0' />
          ) : (
            <li>
              <a
                class='hover:text-primary min-h-12 flex'
                href='/uses'
                transition:name='my-uses-mobile'
              >
                Uses
              </a>
            </li>
          )
        }
      </ul>
    </div>
    {
      !checkCurrentURL('home') && (
        <a
          href='/'
          class='btn btn-ghost hover:text-primary font-bold text-xl'
          transition:name={`my-name`}
        >
          Achmad Kurnianto
        </a>
      )
    }
  </div>
  <div class='navbar-center hidden lg:flex'>
    <ul class='menu menu-horizontal px-1'>
      {
        checkCurrentURL('blogs') ? (
          <li class='min-w-20 h-0' />
        ) : (
          <li>
            <a
              class='hover:text-primary'
              href='/blogs'
              transition:name='my-blogs'
            >
              Blogs
            </a>
          </li>
        )
      }
      {
        checkCurrentURL('experiences') ? (
          <li class='min-w-20 h-0' />
        ) : (
          <li>
            <a
              class='hover:text-primary'
              href='/experiences'
              transition:name='my-experiences'
            >
              Experiences
            </a>
          </li>
        )
      }
      {
        checkCurrentURL('portfolios') ? (
          <li class='min-w-20 h-0' />
        ) : (
          <li>
            <a
              class='hover:text-primary'
              href='/portfolios'
              transition:name='my-portfolios'
            >
              Portfolios
            </a>
          </li>
        )
      }
      {
        checkCurrentURL('uses') ? (
          <li class='min-w-20 h-0' />
        ) : (
          <li>
            <a
              class='hover:text-primary'
              href='/uses'
              transition:name='my-uses'
            >
              Uses
            </a>
          </li>
        )
      }
    </ul>
  </div>
  <div class='navbar-end'>
    <!-- <MoleculeCardThemeControllerBase /> -->
  </div>
</div>
